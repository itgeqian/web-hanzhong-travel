<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‰é’®åŠŸèƒ½æµ‹è¯•é¡µé¢</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/luxian.css">
    <style>
        body {
            padding: 20px;
            background: #f8f9fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        .test-section h3 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 18px;
        }
        .test-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .test-info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #666;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-success { background: #27ae60; }
        .status-error { background: #e74c3c; }
        .status-pending { background: #f39c12; }
        .scroll-test {
            height: 500px;
            background: linear-gradient(to bottom, #667eea, #764ba2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª æŒ‰é’®åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>
        
        <div class="test-info">
            <p><strong>æµ‹è¯•è¯´æ˜ï¼š</strong></p>
            <ul>
                <li>ç‚¹å‡»æŒ‰é’®åé¡µé¢åº”è¯¥å¯ä»¥æ­£å¸¸æ»šåŠ¨</li>
                <li>é¢„è®¢æŒ‰é’®åº”è¯¥å¼¹å‡ºé¢„è®¢è¡¨å•</li>
                <li>å’¨è¯¢å’Œæ–¹æ¡ˆæŒ‰é’®åº”è¯¥æ˜¾ç¤ºé€šçŸ¥æ¶ˆæ¯</li>
                <li>å®šåˆ¶éœ€æ±‚æŒ‰é’®åº”è¯¥éªŒè¯è¡¨å•å¹¶æäº¤</li>
            </ul>
        </div>
        
        <!-- é¢„è®¢åŠŸèƒ½æµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ“‹ é¢„è®¢åŠŸèƒ½æµ‹è¯•</h3>
            <div class="test-buttons">
                <button class="btn btn-primary" onclick="testBookRoute(1)">
                    <span>ğŸ’° ç«‹å³é¢„è®¢ (çº¿è·¯1)</span>
                </button>
                <button class="btn btn-primary" onclick="testBookRoute(2)">
                    <span>ğŸ’° ç«‹å³é¢„è®¢ (çº¿è·¯2)</span>
                </button>
                <button class="btn btn-outline" onclick="testShowDetail(1)">
                    <span>ğŸ“‹ æŸ¥çœ‹è¯¦æƒ…</span>
                </button>
            </div>
            <p id="booking-status">
                <span class="status-indicator status-pending"></span>
                ç­‰å¾…æµ‹è¯•...
            </p>
        </div>
        
        <!-- å’¨è¯¢åŠŸèƒ½æµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ“ å’¨è¯¢åŠŸèƒ½æµ‹è¯•</h3>
            <div class="test-buttons">
                <button class="btn btn-primary" onclick="testConsultRoute()">
                    <span>ğŸ“ ç«‹å³å’¨è¯¢</span>
                </button>
                <button class="btn btn-outline" onclick="testGetCustomPlan()">
                    <span>ğŸ“‹ è·å–æ–¹æ¡ˆ</span>
                </button>
            </div>
            <p id="consult-status">
                <span class="status-indicator status-pending"></span>
                ç­‰å¾…æµ‹è¯•...
            </p>
        </div>
        
        <!-- å®šåˆ¶éœ€æ±‚æµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ¯ å®šåˆ¶éœ€æ±‚æµ‹è¯•</h3>
            <form class="quick-custom-form" style="margin-bottom: 20px;">
                <div class="form-row">
                    <div class="form-group">
                        <label>å‡ºè¡Œå¤©æ•°</label>
                        <select name="days">
                            <option value="">è¯·é€‰æ‹©</option>
                            <option value="1-2">1-2å¤©</option>
                            <option value="3-4">3-4å¤©</option>
                            <option value="5-7">5-7å¤©</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>é¢„ç®—èŒƒå›´</label>
                        <select name="budget">
                            <option value="">è¯·é€‰æ‹©</option>
                            <option value="500-1000">500-1000å…ƒ</option>
                            <option value="1000-2000">1000-2000å…ƒ</option>
                            <option value="2000+">2000å…ƒä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>è”ç³»æ–¹å¼</label>
                    <input type="tel" name="contact" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç ">
                </div>
                <button type="button" class="btn btn-primary btn-full" onclick="testSubmitCustomRequest(event)">
                    æäº¤å®šåˆ¶éœ€æ±‚
                </button>
            </form>
            <p id="custom-status">
                <span class="status-indicator status-pending"></span>
                ç­‰å¾…æµ‹è¯•...
            </p>
        </div>
        
        <!-- æ»šåŠ¨æµ‹è¯•åŒºåŸŸ -->
        <div class="scroll-test">
            <p>ğŸ“œ æ»šåŠ¨æµ‹è¯•åŒºåŸŸ - ç‚¹å‡»æŒ‰é’®åé¡µé¢åº”è¯¥å¯ä»¥æ­£å¸¸æ»šåŠ¨åˆ°è¿™é‡Œ</p>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/luxian.js"></script>
    <script>
        // æµ‹è¯•å‡½æ•°
        function testBookRoute(routeId) {
            console.log('æµ‹è¯•é¢„è®¢åŠŸèƒ½ï¼Œçº¿è·¯ID:', routeId);
            updateStatus('booking-status', 'pending', 'æ­£åœ¨æµ‹è¯•é¢„è®¢åŠŸèƒ½...');
            
            try {
                bookRoute(routeId);
                updateStatus('booking-status', 'success', 'é¢„è®¢åŠŸèƒ½æ­£å¸¸ï¼Œæ¨¡æ€æ¡†å·²æ˜¾ç¤º');
            } catch (error) {
                console.error('é¢„è®¢åŠŸèƒ½æµ‹è¯•å¤±è´¥:', error);
                updateStatus('booking-status', 'error', 'é¢„è®¢åŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }
        
        function testShowDetail(routeId) {
            console.log('æµ‹è¯•è¯¦æƒ…åŠŸèƒ½ï¼Œçº¿è·¯ID:', routeId);
            try {
                showRouteDetail(routeId);
                updateStatus('booking-status', 'success', 'è¯¦æƒ…åŠŸèƒ½æ­£å¸¸');
            } catch (error) {
                console.error('è¯¦æƒ…åŠŸèƒ½æµ‹è¯•å¤±è´¥:', error);
                updateStatus('booking-status', 'error', 'è¯¦æƒ…åŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }
        
        function testConsultRoute() {
            console.log('æµ‹è¯•å’¨è¯¢åŠŸèƒ½');
            updateStatus('consult-status', 'pending', 'æ­£åœ¨æµ‹è¯•å’¨è¯¢åŠŸèƒ½...');
            
            try {
                consultRoute();
                updateStatus('consult-status', 'success', 'å’¨è¯¢åŠŸèƒ½æ­£å¸¸ï¼Œé€šçŸ¥å·²æ˜¾ç¤º');
            } catch (error) {
                console.error('å’¨è¯¢åŠŸèƒ½æµ‹è¯•å¤±è´¥:', error);
                updateStatus('consult-status', 'error', 'å’¨è¯¢åŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }
        
        function testGetCustomPlan() {
            console.log('æµ‹è¯•è·å–æ–¹æ¡ˆåŠŸèƒ½');
            updateStatus('consult-status', 'pending', 'æ­£åœ¨æµ‹è¯•è·å–æ–¹æ¡ˆåŠŸèƒ½...');
            
            try {
                getCustomPlan();
                updateStatus('consult-status', 'success', 'è·å–æ–¹æ¡ˆåŠŸèƒ½æ­£å¸¸ï¼Œé€šçŸ¥å·²æ˜¾ç¤º');
            } catch (error) {
                console.error('è·å–æ–¹æ¡ˆåŠŸèƒ½æµ‹è¯•å¤±è´¥:', error);
                updateStatus('consult-status', 'error', 'è·å–æ–¹æ¡ˆåŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }
        
        function testSubmitCustomRequest(event) {
            console.log('æµ‹è¯•å®šåˆ¶éœ€æ±‚æäº¤åŠŸèƒ½');
            updateStatus('custom-status', 'pending', 'æ­£åœ¨æµ‹è¯•å®šåˆ¶éœ€æ±‚åŠŸèƒ½...');
            
            try {
                submitCustomRequest(event);
                updateStatus('custom-status', 'success', 'å®šåˆ¶éœ€æ±‚åŠŸèƒ½æ­£å¸¸');
            } catch (error) {
                console.error('å®šåˆ¶éœ€æ±‚åŠŸèƒ½æµ‹è¯•å¤±è´¥:', error);
                updateStatus('custom-status', 'error', 'å®šåˆ¶éœ€æ±‚åŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }
        
        function updateStatus(elementId, status, message) {
            const element = document.getElementById(elementId);
            const indicator = element.querySelector('.status-indicator');
            
            indicator.className = `status-indicator status-${status}`;
            element.innerHTML = `<span class="status-indicator status-${status}"></span>${message}`;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            console.log('æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            
            // æ£€æŸ¥å…³é”®å‡½æ•°æ˜¯å¦å­˜åœ¨
            const functions = ['bookRoute', 'consultRoute', 'getCustomPlan', 'submitCustomRequest', 'showRouteDetail'];
            functions.forEach(funcName => {
                if (typeof window[funcName] === 'function') {
                    console.log(`âœ“ ${funcName} å‡½æ•°å·²æ­£ç¡®åŠ è½½`);
                } else {
                    console.error(`âœ— ${funcName} å‡½æ•°æœªæ‰¾åˆ°`);
                }
            });
        });
    </script>
</body>
</html> 