<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>调试测试 - 汉中旅游</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        
        .header {
            background: #667eea;
            color: white;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .user-actions {
            text-align: right;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            display: inline-block;
            margin: 0 5px;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: #667eea;
            border: 1px solid #667eea;
        }
        
        .test-section {
            height: 100vh;
            padding: 40px;
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .debug-info {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 2000;
        }
    </style>
</head>
<body>
    <div class="debug-info" id="debugInfo">
        滚动位置: <span id="scrollPos">0</span><br>
        按钮状态: <span id="buttonStatus">未创建</span>
    </div>

    <header class="header">
        <div class="container">
            <h1>调试测试页面</h1>
            <div class="user-actions" id="userActions">
                <a href="#" class="btn btn-outline">注册</a>
                <a href="#" class="btn btn-primary">登录</a>
            </div>
        </div>
    </header>

    <main>
        <div class="test-section">
            <h2>第一部分</h2>
            <p>这是第一个测试区域。向下滚动查看按钮是否出现。</p>
            <button onclick="testScroll()">滚动到500px位置</button>
            <button onclick="testFavorites()">测试收藏夹</button>
        </div>

        <div class="test-section">
            <h2>第二部分</h2>
            <p>继续滚动测试按钮功能。</p>
            <p>当前滚动位置应该超过300px，按钮应该显示。</p>
        </div>

        <div class="test-section">
            <h2>第三部分</h2>
            <p>这是最后一个测试区域。</p>
            <p>点击右下角的回到顶部按钮返回页面顶部。</p>
        </div>
    </main>

    <script src="js/common.js"></script>
    <script>
        // 调试函数
        function updateDebugInfo() {
            const scrollPos = window.pageYOffset || document.documentElement.scrollTop;
            document.getElementById('scrollPos').textContent = scrollPos;
            
            const favBtn = document.querySelector('.favorites-btn');
            const backBtn = document.querySelector('.back-to-top');
            
            let status = '未创建';
            if (favBtn && backBtn) {
                const favVisible = favBtn.classList.contains('show');
                const backVisible = backBtn.classList.contains('show');
                status = `收藏夹:${favVisible ? '显示' : '隐藏'}, 回顶部:${backVisible ? '显示' : '隐藏'}`;
            }
            
            document.getElementById('buttonStatus').textContent = status;
        }
        
        function testScroll() {
            window.scrollTo({
                top: 500,
                behavior: 'smooth'
            });
        }
        
        function testFavorites() {
            if (typeof showFavoritesModal === 'function') {
                showFavoritesModal();
            } else {
                alert('收藏夹功能未加载');
            }
        }
        
        // 监听滚动事件更新调试信息
        window.addEventListener('scroll', updateDebugInfo);
        
        // 页面加载完成后更新调试信息
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateDebugInfo, 1000);
        });
        
        // 定期更新调试信息
        setInterval(updateDebugInfo, 1000);
    </script>
</body>
</html> 